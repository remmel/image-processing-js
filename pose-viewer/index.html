<!DOCTYPE html>
<html lang="en">

<head>
    <title>three.js webgl - orbit controls</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link type="text/css" rel="stylesheet" href="https://threejs.org/examples/main.css">
    <link type="text/css" rel="stylesheet" href="main.css">
</head>

<body>
<div id="info">
    Import source:
    <label><input type="radio" name="datasetSrc" value="demo">Demo</label>
    <label><input type="radio" name="datasetSrc" value="local">Local</label>
    <label><input type="radio" name="datasetSrc" value="remote">Remote</label>
<!--    Demo:-->
    <form class="tab-src tab-src-demo">
        <select name="querystring" onchange="document.location = this.form.querystring.value">
            <option value="?">- Load demo dataset -</option>
            <option value="?datasetType=RGBDTUM&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/rgbd_dataset_freiburg1_desk">RGBDTUM / rgbd_dataset_freiburg1_desk</option>
            <option value="?datasetType=ARENGINERECORDER&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/2020-11-26_121940">ARENGINERECORDER / 2020-11-26_121940</option>
            <option value="?datasetType=ALICEVISION_SFM&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/2020-11-26_121940">ALICEVISION_SFM / 2020-11-26_121940</option>
            <option value="?datasetType=AGISOFT&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/2020-11-26_121940">AGISOFT / 2020-11-26_121940</option>
            <option value="?datasetType=AR3DPLAN&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/2020-11-27_195204">AR3DPLAN / 2020-11-27_195204</option>
            <option value="?datasetType=LUBOS&datasetFolder=https://raw.githubusercontent.com/remmel/rgbd-dataset/main/20201130_195000.dataset">LUBOS / 20201130_195000.dataset</option>
        </select>
    </form>
<!--    Local:-->
    <form class="tab-src tab-src-local">
        <select name="datasetTypeLocal">
            <option value="">- Select datasetType -</option>
        </select>
        <label>Choose folder: <input type="file" name="files-import" webkitdirectory mozdirectory msdirectory odirectory directory value="Choose Folder" /></label> (or
        <label>Choose files: <input type="file" name="files-import" multiple/></label>)
    </form>
<!--    Remote:-->
    <form class="tab-src tab-src-remote">
        <select name="datasetType">
            <option value="">- Select datasetType -</option>
        </select>
        <input type="text" name="datasetFolder" placeholder="datasetFolder url eg: https://raw.githubusercontent.com/remmel/rgbd-dataset/main/rgbd_dataset_freiburg1_desk" />
        <input type="submit" value="Load"/>
    </form>
<!--    Export:-->
    <hr width="25%"/>
    <form>
        <select name="exportType">
            <option value="">- Select Export type -</option>
            <option value="ALICEVISION_SFM">Alicevision - .sfm</option>
            <option value="AGISOFT">Agisoft - .csv</option>
            <option value="FAST_FUSION">FastFusion - associate.txt</option>
        </select>
        <input type="file" value="file-general" name="file" style="display: none"/>
        <input type="button" value="Export" name="export"/>
    </form>
    <hr width="25%"/>
    <span id="info-text">Click on Tetrahedron to display pose & image details. <br />x:red; y:green; z:blue</span>
    <br />
    <span id="loading"></span>
</div>

<div class="container">
    <div id="scene3d">
    </div>
    <div id="photo-container">
        <img id="photo" src=""/>
        <div id="photo-info">
            <span id="info-num-pose"></span>
            <button id="btn-previous">⏮️</button> <button id="btn-playpause">⏯️</button> <button id="btn-next">⏭️</button>
        </div>
    </div>
</div>
<!--https://github.com/abdolence/x2js-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/x2js/1.2.0/xml2json.js"></script>
<!--<script src="https://cdn.jsdelivr.net/npm/xml2js@0.4.23/lib/xml2js.js"></script>-->
<script type="module" src="main.js"></script>

</body>
</html>